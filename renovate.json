{
  "extends": ["config:base"],
  "packageRules": [
    {
      "updateTypes": ["minor", "patch"],
      "matchTargetBranches": ["master"],
      "packagePatterns": ["*"],
      "groupName": "Target Framework Updates",
      "commitMessage": "chore(deps): update target framework version",
      "commitMessageTopic": "{{depName}}",
      "updateTasks": [
        {
          "matchUpdateTypes": ["minor"],
          "runner": "script",
          "script": {
            "fileMatch": ["**/*.csproj"],
            "bash": "sed -i 's/<TargetFramework>netcoreapp3.1/<TargetFramework>{{{updatedVersion}}}/' ${{filePath}}"
          }
        },
        {
          "matchUpdateTypes": ["patch"],
          "runner": "script",
          "script": {
            "fileMatch": ["**/*.csproj"],
            "bash": "sed -i 's/<TargetFramework>netcoreapp3.1/<TargetFramework>{{{updatedVersion}}}/' ${{filePath}}"
          }
        }
      ]
    }
  ]
}
